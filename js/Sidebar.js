/**
 * Copyright (c) 2006-2012, JGraph Ltd
 * 
 * Modified version of the mxgraph GraphEditor. 
 * 2022, Muhammad Afif Abroory (https://github.com/afifabroory/org-chart-editor2)
 */
function Sidebar(e,t){this.editorUi=e,this.container=t,this.palettes=new Object,this.taglist=new Object,this.showTooltips=!0,this.graph=e.createTemporaryGraph(this.editorUi.editor.graph.getStylesheet()),this.graph.cellRenderer.minSvgStrokeWidth=this.minThumbStrokeWidth,this.graph.cellRenderer.antiAlias=this.thumbAntiAlias,this.graph.container.style.visibility="hidden",this.graph.foldingEnabled=!1,document.body.appendChild(this.graph.container),this.pointerUpHandler=mxUtils.bind(this,(function(){this.showTooltips=!0})),mxEvent.addListener(document,mxClient.IS_POINTER?"pointerup":"mouseup",this.pointerUpHandler),this.pointerDownHandler=mxUtils.bind(this,(function(){this.showTooltips=!1,this.hideTooltip()})),mxEvent.addListener(document,mxClient.IS_POINTER?"pointerdown":"mousedown",this.pointerDownHandler),this.pointerMoveHandler=mxUtils.bind(this,(function(e){for(var t=mxEvent.getSource(e);null!=t;){if(t==this.currentElt)return;t=t.parentNode}this.hideTooltip()})),mxEvent.addListener(document,mxClient.IS_POINTER?"pointermove":"mousemove",this.pointerMoveHandler),this.pointerOutHandler=mxUtils.bind(this,(function(e){null==e.toElement&&null==e.relatedTarget&&this.hideTooltip()})),mxEvent.addListener(document,mxClient.IS_POINTER?"pointerout":"mouseout",this.pointerOutHandler),mxEvent.addListener(t,"scroll",mxUtils.bind(this,(function(){this.showTooltips=!0,this.hideTooltip()}))),this.init()}Sidebar.prototype.init=function(){var e=STENCIL_PATH;this.addGeneralPalette(!0),this.addBasicPalette(e),this.addAdvancedPalette(!1),this.addStencilPalette("arrows",mxResources.get("arrows"),e+"/arrows.xml",";whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2"),this.addMiscPalette(!1)},Sidebar.prototype.collapsedImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhDQANAIABAJmZmf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozNUQyRTJFNjZGNUYxMUU1QjZEOThCNDYxMDQ2MzNCQiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozNUQyRTJFNzZGNUYxMUU1QjZEOThCNDYxMDQ2MzNCQiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFERjc3MEUxNkY1RjExRTVCNkQ5OEI0NjEwNDYzM0JCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFERjc3MEUyNkY1RjExRTVCNkQ5OEI0NjEwNDYzM0JCIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEAQAAAQAsAAAAAA0ADQAAAhSMj6lrwAjcC1GyahV+dcZJgeIIFgA7":IMAGE_PATH+"/collapsed.gif",Sidebar.prototype.expandedImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhDQANAIABAJmZmf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxREY3NzBERjZGNUYxMUU1QjZEOThCNDYxMDQ2MzNCQiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxREY3NzBFMDZGNUYxMUU1QjZEOThCNDYxMDQ2MzNCQiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFERjc3MERENkY1RjExRTVCNkQ5OEI0NjEwNDYzM0JCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFERjc3MERFNkY1RjExRTVCNkQ5OEI0NjEwNDYzM0JCIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEAQAAAQAsAAAAAA0ADQAAAhGMj6nL3QAjVHIu6azbvPtWAAA7":IMAGE_PATH+"/expanded.gif",Sidebar.prototype.searchImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAEaSURBVHjabNGxS5VxFIfxz71XaWuQUJCG/gCHhgTD9VpEETg4aMOlQRp0EoezObgcd220KQiXmpretTAHQRBdojlQEJyukPdt+b1ywfvAGc7wnHP4nlZd1yKijQW8xzNc4Su+ZOYfQ3T6/f4YNvEJYzjELXp4VVXVz263+7cR2niBxAFeZ2YPi3iHR/gYERPDwhpOsd6sz8x/mfkNG3iOlWFhFj8y89J9KvzGXER0GuEaD42mgwHqUtoljbcRsTBCeINpfM/MgZLKPpaxFxGbOCqDXmILN7hoJrTKH+axhxmcYRxP0MIDnOBDZv5q1XUNIuJxifJp+UNV7t7BFM6xeic0RMQ4Bpl5W/ol7GISx/eEUUTECrbx+f8A8xhiZht9zsgAAAAASUVORK5CYII=":IMAGE_PATH+"/search.png",Sidebar.prototype.dragPreviewBorder="1px dashed black",Sidebar.prototype.enableTooltips=!0,Sidebar.prototype.tooltipBorder=16,Sidebar.prototype.tooltipDelay=300,Sidebar.prototype.dropTargetDelay=200,Sidebar.prototype.gearImage=STENCIL_PATH+"/clipart/Gear_128x128.png",Sidebar.prototype.thumbWidth=42,Sidebar.prototype.thumbHeight=42,Sidebar.prototype.minThumbStrokeWidth=1,Sidebar.prototype.thumbAntiAlias=!1,Sidebar.prototype.thumbPadding=document.documentMode>=5?2:3,Sidebar.prototype.thumbBorder=2,"large"!=urlParams["sidebar-entries"]&&(Sidebar.prototype.thumbPadding=document.documentMode>=5?0:1,Sidebar.prototype.thumbBorder=1,Sidebar.prototype.thumbWidth=32,Sidebar.prototype.thumbHeight=30,Sidebar.prototype.minThumbStrokeWidth=1.3,Sidebar.prototype.thumbAntiAlias=!0),Sidebar.prototype.sidebarTitleSize=9,Sidebar.prototype.sidebarTitles=!1,Sidebar.prototype.tooltipTitles=!0,Sidebar.prototype.maxTooltipWidth=400,Sidebar.prototype.maxTooltipHeight=400,Sidebar.prototype.addStencilsToIndex=!0,Sidebar.prototype.defaultImageWidth=80,Sidebar.prototype.defaultImageHeight=80,Sidebar.prototype.getTooltipOffset=function(){return new mxPoint(0,0)},Sidebar.prototype.showTooltip=function(e,t,l,i,r,n){if(this.enableTooltips&&this.showTooltips&&this.currentElt!=e){null!=this.thread&&(window.clearTimeout(this.thread),this.thread=null);var a=mxUtils.bind(this,(function(){null==this.tooltip&&(this.tooltip=document.createElement("div"),this.tooltip.className="geSidebarTooltip",this.tooltip.style.zIndex=mxPopupMenu.prototype.zIndex-1,document.body.appendChild(this.tooltip),this.graph2=new Graph(this.tooltip,null,null,this.editorUi.editor.graph.getStylesheet()),this.graph2.resetViewOnRootChange=!1,this.graph2.foldingEnabled=!1,this.graph2.gridEnabled=!1,this.graph2.autoScroll=!1,this.graph2.setTooltips(!1),this.graph2.setConnectable(!1),this.graph2.setEnabled(!1),mxClient.IS_SVG||(this.graph2.view.canvas.style.position="relative")),this.graph2.model.clear(),this.graph2.view.setTranslate(this.tooltipBorder,this.tooltipBorder),l>this.maxTooltipWidth||i>this.maxTooltipHeight?this.graph2.view.scale=Math.round(100*Math.min(this.maxTooltipWidth/l,this.maxTooltipHeight/i))/100:this.graph2.view.scale=1,this.tooltip.style.display="block",this.graph2.labelsVisible=null==n||n;var a=mxClient.NO_FO;mxClient.NO_FO=Editor.prototype.originalNoForeignObject;var o=this.graph2.cloneCells(t);this.editorUi.insertHandler(o,null,this.graph2.model),this.graph2.addCells(o),mxClient.NO_FO=a;var s=this.graph2.getGraphBounds(),h=s.width+2*this.tooltipBorder+4,d=s.height+2*this.tooltipBorder;mxClient.IS_QUIRKS?(d+=4,this.tooltip.style.overflow="hidden"):this.tooltip.style.overflow="visible",this.tooltip.style.width=h+"px";var p=h;if(this.tooltipTitles&&null!=r&&r.length>0){null==this.tooltipTitle?(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.style.borderTop="1px solid gray",this.tooltipTitle.style.textAlign="center",this.tooltipTitle.style.width="100%",this.tooltipTitle.style.overflow="hidden",this.tooltipTitle.style.position="absolute",this.tooltipTitle.style.paddingTop="6px",this.tooltipTitle.style.bottom="6px",this.tooltip.appendChild(this.tooltipTitle)):this.tooltipTitle.innerHTML="",this.tooltipTitle.style.display="",mxUtils.write(this.tooltipTitle,r),p=Math.min(this.maxTooltipWidth,Math.max(h,this.tooltipTitle.scrollWidth+4));var c=this.tooltipTitle.offsetHeight+10;d+=c,mxClient.IS_SVG?this.tooltipTitle.style.marginTop=2-c+"px":(d-=6,this.tooltipTitle.style.top=d-c+"px")}else null!=this.tooltipTitle&&null!=this.tooltipTitle.parentNode&&(this.tooltipTitle.style.display="none");p>h&&(this.tooltip.style.width=p+"px"),this.tooltip.style.height=d+"px";var m=-Math.round(s.x-this.tooltipBorder)+(p>h?(p-h)/2:0),u=-Math.round(s.y-this.tooltipBorder),g=document.body,x=document.documentElement,y=this.getTooltipOffset(),w=Math.max(g.clientHeight||0,x.clientHeight),b=this.container.clientWidth+this.editorUi.splitSize+3+this.editorUi.container.offsetLeft+y.x,E=Math.min(w-d-20,Math.max(0,this.editorUi.container.offsetTop+this.container.offsetTop+e.offsetTop-this.container.scrollTop-d/2+16))+y.y;mxClient.IS_SVG?0!=m||0!=u?this.graph2.view.canvas.setAttribute("transform","translate("+m+","+u+")"):this.graph2.view.canvas.removeAttribute("transform"):(this.graph2.view.drawPane.style.left=m+"px",this.graph2.view.drawPane.style.top=u+"px"),this.tooltip.style.position="absolute",this.tooltip.style.left=b+"px",this.tooltip.style.top=E+"px"}));null!=this.tooltip&&"none"!=this.tooltip.style.display?a():this.thread=window.setTimeout(a,this.tooltipDelay),this.currentElt=e}},Sidebar.prototype.hideTooltip=function(){null!=this.thread&&(window.clearTimeout(this.thread),this.thread=null),null!=this.tooltip&&(this.tooltip.style.display="none",this.currentElt=null)},Sidebar.prototype.addDataEntry=function(e,t,l,i,r){return this.addEntry(e,mxUtils.bind(this,(function(){return this.createVertexTemplateFromData(r,t,l,i)})))},Sidebar.prototype.addEntries=function(e){for(var t=0;t<e.length;t++)mxUtils.bind(this,(function(e){var t=e.data,l=null!=e.title?e.title:"";null!=e.tags&&(l+=" "+e.tags),null!=t&&l.length>0?this.addEntry(l,mxUtils.bind(this,(function(){t=this.editorUi.convertDataUri(t);var l="shape=image;verticalLabelPosition=bottom;verticalAlign=top;imageAspect=0;";return"fixed"==e.aspect&&(l+="aspect=fixed;"),this.createVertexTemplate(l+"image="+t,e.w,e.h,"",e.title||"",!1,!1,!0)}))):null!=e.xml&&l.length>0&&this.addEntry(l,mxUtils.bind(this,(function(){var t=this.editorUi.stringToCells(Graph.decompress(e.xml));return this.createVertexTemplateFromCells(t,e.w,e.h,e.title||"",!0,!1,!0)})))}))(e[t])},Sidebar.prototype.addEntry=function(e,t){if(null!=this.taglist&&null!=e&&e.length>0){null!=this.currentSearchEntryLibrary&&(t.parentLibraries=[this.currentSearchEntryLibrary]);for(var l=e.toLowerCase().replace(/[\/\,\(\)]/g," ").split(" "),i=[],r={},n=0;n<l.length;n++){null==r[l[n]]&&(r[l[n]]=!0,i.push(l[n]));var a=l[n].replace(/\.*\d*$/,"");a!=l[n]&&null==r[a]&&(r[a]=!0,i.push(a))}for(n=0;n<i.length;n++)this.addEntryForTag(i[n],t)}return t},Sidebar.prototype.addEntryForTag=function(e,t){if(null!=e&&e.length>1){var l=this.taglist[e];"object"!=typeof l&&(l={entries:[]},this.taglist[e]=l),l.entries.push(t)}},Sidebar.prototype.searchEntries=function(e,t,l,i,r){if(null!=this.taglist&&null!=e){for(var n=e.toLowerCase().split(" "),a=new mxDictionary,o=(l+1)*t,s=[],h=0,d=0;d<n.length;d++)if(n[d].length>0){var p=this.taglist[n[d]],c=new mxDictionary;if(null!=p){var m=p.entries;s=[];for(var u=0;u<m.length;u++){p=m[u];if(0==h==(null==a.get(p))&&(c.put(p,p),s.push(p),d==n.length-1&&s.length==o))return void i(s.slice(l*t,o),o,!0,n)}}else s=[];a=c,h++}var g=s.length;i(s.slice(l*t,(l+1)*t),g,!1,n)}else i([],null,null,n)},Sidebar.prototype.filterTags=function(e){if(null!=e){for(var t=e.split(" "),l=[],i={},r=0;r<t.length;r++)null==i[t[r]]&&(i[t[r]]="1",l.push(t[r]));return l.join(" ")}return null},Sidebar.prototype.cloneCell=function(e,t){var l=e.clone();return null!=t&&(l.value=t),l},Sidebar.prototype.showPopupMenuForEntry=function(e,t,l){},Sidebar.prototype.addSearchPalette=function(e){var t=document.createElement("div");t.style.visibility="hidden",this.container.appendChild(t);var l=document.createElement("div");l.className="geSidebar",l.style.boxSizing="border-box",l.style.overflow="hidden",l.style.width="100%",l.style.padding="8px",l.style.paddingTop="14px",l.style.paddingBottom="0px",e||(l.style.display="none");var i=document.createElement("div");i.style.whiteSpace="nowrap",i.style.textOverflow="clip",i.style.paddingBottom="8px",i.style.cursor="default";var r=document.createElement("input");r.setAttribute("placeholder",mxResources.get("searchShapes")),r.setAttribute("type","text"),r.style.fontSize="12px",r.style.overflow="hidden",r.style.boxSizing="border-box",r.style.border="solid 1px #d5d5d5",r.style.borderRadius="4px",r.style.width="100%",r.style.outline="none",r.style.padding="6px",r.style.paddingRight="20px",i.appendChild(r);var n,a=document.createElement("img");a.setAttribute("src",Sidebar.prototype.searchImage),a.setAttribute("title",mxResources.get("search")),a.style.position="relative",a.style.left="-18px",mxClient.IS_QUIRKS?(r.style.height="28px",a.style.top="-4px"):a.style.top="1px",a.style.background="url('"+this.editorUi.editor.transparentImage+"')",i.appendChild(a),l.appendChild(i);var o=document.createElement("center"),s=mxUtils.button(mxResources.get("moreResults"),(function(){n()}));s.style.display="none",s.style.lineHeight="normal",s.style.fontSize="12px",s.style.padding="6px 12px 6px 12px",s.style.marginTop="4px",s.style.marginBottom="8px",o.style.paddingTop="4px",o.style.paddingBottom="4px",o.appendChild(s),l.appendChild(o);var h="",d=!1,p=!1,c=0,m=new Object,u=12,g=mxUtils.bind(this,(function(){d=!1,this.currentSearch=null;for(var e=l.firstChild;null!=e;){var t=e.nextSibling;e!=i&&e!=o&&e.parentNode.removeChild(e),e=t}}));mxEvent.addListener(a,"click",(function(){a.getAttribute("src")==Dialog.prototype.closeImage&&(a.setAttribute("src",Sidebar.prototype.searchImage),a.setAttribute("title",mxResources.get("search")),s.style.display="none",r.value="",h="",g()),r.focus()})),n=mxUtils.bind(this,(function(){if(u=4*Math.max(1,Math.floor(this.container.clientWidth/(this.thumbWidth+10))),this.hideTooltip(),""!=r.value){if(null!=o.parentNode&&(h!=r.value&&(g(),h=r.value,m=new Object,p=!1,c=0),!d&&!p)){s.setAttribute("disabled","true"),s.style.display="",s.style.cursor="wait",s.innerHTML=mxResources.get("loading")+"...",d=!0;var e=new Object;this.currentSearch=e,this.searchEntries(h,u,c,mxUtils.bind(this,(function(t,i,r,n){if(this.currentSearch==e){t=null!=t?t:[],d=!1,c++,this.insertSearchHint(l,h,u,c,t,i,r,n),0==t.length&&1==c&&(h=""),null!=o.parentNode&&o.parentNode.removeChild(o);for(var a=0;a<t.length;a++)mxUtils.bind(this,(function(e){try{var t=e();null==m[t.innerHTML]?(m[t.innerHTML]=null!=e.parentLibraries?e.parentLibraries.slice():[],l.appendChild(t)):null!=e.parentLibraries&&(m[t.innerHTML]=m[t.innerHTML].concat(e.parentLibraries)),mxEvent.addGestureListeners(t,null,null,mxUtils.bind(this,(function(e){var l=m[t.innerHTML];mxEvent.isPopupTrigger(e)&&this.showPopupMenuForEntry(t,l,e)}))),mxEvent.disableContextMenu(t)}catch(e){}}))(t[a]);r?(s.removeAttribute("disabled"),s.innerHTML=mxResources.get("moreResults")):(s.innerHTML=mxResources.get("reset"),s.style.display="none",p=!0),s.style.cursor="",l.appendChild(o)}})),mxUtils.bind(this,(function(){s.style.cursor=""})))}}else g(),r.value="",h="",m=new Object,s.style.display="none",p=!1,r.focus()})),mxEvent.addListener(r,"keydown",mxUtils.bind(this,(function(e){13==e.keyCode&&(n(),mxEvent.consume(e))}))),mxEvent.addListener(r,"keyup",mxUtils.bind(this,(function(e){""==r.value?(a.setAttribute("src",Sidebar.prototype.searchImage),a.setAttribute("title",mxResources.get("search"))):(a.setAttribute("src",Dialog.prototype.closeImage),a.setAttribute("title",mxResources.get("reset"))),""==r.value?(p=!0,s.style.display="none"):r.value!=h?(s.style.display="none",p=!1):d||(s.style.display=p?"none":"")}))),mxEvent.addListener(r,"mousedown",(function(e){e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0})),mxEvent.addListener(r,"selectstart",(function(e){e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0}));var x=document.createElement("div");x.appendChild(l),this.container.appendChild(x),this.palettes.search=[t,x]},Sidebar.prototype.insertSearchHint=function(e,t,l,i,r,n,a,o){if(0==r.length&&1==i){var s=document.createElement("div");s.className="geTitle",s.style.cssText="background-color:transparent;border-color:transparent;color:gray;padding:6px 0px 0px 0px !important;margin:4px 8px 4px 8px;text-align:center;cursor:default !important",mxUtils.write(s,mxResources.get("noResultsFor",[t])),e.appendChild(s)}},Sidebar.prototype.addGeneralPalette=function(e){var t="line lines connector connectors connection connections arrow arrows ",l=[this.createVertexTemplateEntry("rounded=0;whiteSpace=wrap;html=1;",120,60,"","Rectangle",null,null,"rect rectangle box"),this.createVertexTemplateEntry("rounded=1;whiteSpace=wrap;html=1;",120,60,"","Rounded Rectangle",null,null,"rounded rect rectangle box"),this.createVertexTemplateEntry("text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;",40,20,"Text","Text",null,null,"text textbox textarea label"),this.createVertexTemplateEntry("text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;",190,120,"<h1>Heading</h1><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>","Textbox",null,null,"text textbox textarea"),this.createVertexTemplateEntry("ellipse;whiteSpace=wrap;html=1;",120,80,"","Ellipse",null,null,"oval ellipse state"),this.createVertexTemplateEntry("whiteSpace=wrap;html=1;aspect=fixed;",80,80,"","Square",null,null,"square"),this.createVertexTemplateEntry("ellipse;whiteSpace=wrap;html=1;aspect=fixed;",80,80,"","Circle",null,null,"circle"),this.createVertexTemplateEntry("shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;",120,60,"","Process",null,null,"process task"),this.createVertexTemplateEntry("rhombus;whiteSpace=wrap;html=1;",80,80,"","Diamond",null,null,"diamond rhombus if condition decision conditional question test"),this.createVertexTemplateEntry("shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;",120,60,"","Parallelogram"),this.createVertexTemplateEntry("shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;",120,80,"","Hexagon",null,null,"hexagon preparation"),this.createVertexTemplateEntry("triangle;whiteSpace=wrap;html=1;",60,80,"","Triangle",null,null,"triangle logic inverter buffer"),this.createVertexTemplateEntry("shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;",60,80,"","Cylinder",null,null,"cylinder data database"),this.createVertexTemplateEntry("ellipse;shape=cloud;whiteSpace=wrap;html=1;",120,80,"","Cloud",null,null,"cloud network"),this.createVertexTemplateEntry("shape=document;whiteSpace=wrap;html=1;boundedLbl=1;",120,80,"","Document"),this.createVertexTemplateEntry("shape=internalStorage;whiteSpace=wrap;html=1;backgroundOutline=1;",80,80,"","Internal Storage"),this.createVertexTemplateEntry("shape=cube;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;darkOpacity=0.05;darkOpacity2=0.1;",120,80,"","Cube"),this.createVertexTemplateEntry("shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;",120,80,"","Step"),this.createVertexTemplateEntry("shape=trapezoid;perimeter=trapezoidPerimeter;whiteSpace=wrap;html=1;fixedSize=1;",120,60,"","Trapezoid"),this.createVertexTemplateEntry("shape=tape;whiteSpace=wrap;html=1;",120,100,"","Tape"),this.createVertexTemplateEntry("shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;",80,100,"","Note"),this.createVertexTemplateEntry("shape=card;whiteSpace=wrap;html=1;",80,100,"","Card"),this.createVertexTemplateEntry("shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;",120,80,"","Callout",null,null,"bubble chat thought speech message"),this.createVertexTemplateEntry("shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;",30,60,"Actor","Actor",!1,null,"user person human stickman"),this.createVertexTemplateEntry("shape=xor;whiteSpace=wrap;html=1;",60,80,"","Or",null,null,"logic or"),this.createVertexTemplateEntry("shape=or;whiteSpace=wrap;html=1;",60,80,"","And",null,null,"logic and"),this.createVertexTemplateEntry("shape=dataStorage;whiteSpace=wrap;html=1;fixedSize=1;",100,80,"","Data Storage"),this.addEntry("curve",mxUtils.bind(this,(function(){var e=new mxCell("",new mxGeometry(0,0,50,50),"curved=1;endArrow=classic;html=1;");return e.geometry.setTerminalPoint(new mxPoint(0,50),!0),e.geometry.setTerminalPoint(new mxPoint(50,0),!1),e.geometry.points=[new mxPoint(50,50),new mxPoint(0,0)],e.geometry.relative=!0,e.edge=!0,this.createEdgeTemplateFromCells([e],e.geometry.width,e.geometry.height,"Curve")}))),this.createEdgeTemplateEntry("shape=flexArrow;endArrow=classic;startArrow=classic;html=1;",50,50,"","Bidirectional Arrow",null,t+"bidirectional"),this.createEdgeTemplateEntry("shape=flexArrow;endArrow=classic;html=1;",50,50,"","Arrow",null,t+"directional directed"),this.createEdgeTemplateEntry("endArrow=none;dashed=1;html=1;",50,50,"","Dashed Line",null,t+"dashed undirected no"),this.createEdgeTemplateEntry("endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;",50,50,"","Dotted Line",null,t+"dotted undirected no"),this.createEdgeTemplateEntry("endArrow=none;html=1;",50,50,"","Line",null,t+"simple undirected plain blank no"),this.createEdgeTemplateEntry("endArrow=classic;startArrow=classic;html=1;",50,50,"","Bidirectional Connector",null,t+"bidirectional"),this.createEdgeTemplateEntry("endArrow=classic;html=1;",50,50,"","Directional Connector",null,t+"directional directed"),this.createEdgeTemplateEntry("shape=link;html=1;",100,0,"","Link",null,t+"link"),this.addEntry(t+"edge title",mxUtils.bind(this,(function(){var e=new mxCell("",new mxGeometry(0,0,0,0),"endArrow=classic;html=1;");e.geometry.setTerminalPoint(new mxPoint(0,0),!0),e.geometry.setTerminalPoint(new mxPoint(100,0),!1),e.geometry.relative=!0,e.edge=!0;var t=new mxCell("Label",new mxGeometry(0,0,0,0),"edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;");return t.geometry.relative=!0,t.setConnectable(!1),t.vertex=!0,e.insert(t),this.createEdgeTemplateFromCells([e],100,0,"Connector with Label")}))),this.addEntry(t+"edge title multiplicity",mxUtils.bind(this,(function(){var e=new mxCell("",new mxGeometry(0,0,0,0),"endArrow=classic;html=1;");e.geometry.setTerminalPoint(new mxPoint(0,0),!0),e.geometry.setTerminalPoint(new mxPoint(160,0),!1),e.geometry.relative=!0,e.edge=!0;var t=new mxCell("Label",new mxGeometry(0,0,0,0),"edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;");t.geometry.relative=!0,t.setConnectable(!1),t.vertex=!0,e.insert(t);var l=new mxCell("Source",new mxGeometry(-1,0,0,0),"edgeLabel;resizable=0;html=1;align=left;verticalAlign=bottom;");return l.geometry.relative=!0,l.setConnectable(!1),l.vertex=!0,e.insert(l),this.createEdgeTemplateFromCells([e],160,0,"Connector with 2 Labels")}))),this.addEntry(t+"edge title multiplicity",mxUtils.bind(this,(function(){var e=new mxCell("Label",new mxGeometry(0,0,0,0),"endArrow=classic;html=1;");e.geometry.setTerminalPoint(new mxPoint(0,0),!0),e.geometry.setTerminalPoint(new mxPoint(160,0),!1),e.geometry.relative=!0,e.edge=!0;var t=new mxCell("Label",new mxGeometry(0,0,0,0),"edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;");t.geometry.relative=!0,t.setConnectable(!1),t.vertex=!0,e.insert(t);var l=new mxCell("Source",new mxGeometry(-1,0,0,0),"edgeLabel;resizable=0;html=1;align=left;verticalAlign=bottom;");l.geometry.relative=!0,l.setConnectable(!1),l.vertex=!0,e.insert(l);var i=new mxCell("Target",new mxGeometry(1,0,0,0),"edgeLabel;resizable=0;html=1;align=right;verticalAlign=bottom;");return i.geometry.relative=!0,i.setConnectable(!1),i.vertex=!0,e.insert(i),this.createEdgeTemplateFromCells([e],160,0,"Connector with 3 Labels")}))),this.addEntry(t+"edge shape symbol message mail email",mxUtils.bind(this,(function(){var e=new mxCell("",new mxGeometry(0,0,0,0),"endArrow=classic;html=1;");e.geometry.setTerminalPoint(new mxPoint(0,0),!0),e.geometry.setTerminalPoint(new mxPoint(100,0),!1),e.geometry.relative=!0,e.edge=!0;var t=new mxCell("",new mxGeometry(0,0,20,14),"shape=message;html=1;outlineConnect=0;");return t.geometry.relative=!0,t.vertex=!0,t.geometry.offset=new mxPoint(-10,-7),e.insert(t),this.createEdgeTemplateFromCells([e],100,0,"Connector with Symbol")})))];this.addPaletteFunctions("general",mxResources.get("general"),null==e||e,l)},Sidebar.prototype.addMiscPalette=function(e){var t=this,l="line lines connector connectors connection connections arrow arrows ",i=[this.createVertexTemplateEntry("text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;",100,40,"Title","Title",null,null,"text heading title"),this.createVertexTemplateEntry("text;strokeColor=none;fillColor=none;html=1;whiteSpace=wrap;verticalAlign=middle;overflow=hidden;",100,80,"<ul><li>Value 1</li><li>Value 2</li><li>Value 3</li></ul>","Unordered List"),this.createVertexTemplateEntry("text;strokeColor=none;fillColor=none;html=1;whiteSpace=wrap;verticalAlign=middle;overflow=hidden;",100,80,"<ol><li>Value 1</li><li>Value 2</li><li>Value 3</li></ol>","Ordered List"),this.addDataEntry("table",180,120,"Table 1","7ZjJTsMwEIafJleUhZZybVgucAFewDTT2pLjiewpaXl6xolLVQFqWBJArZRKns2xv5H7y4myvFxdW1HJWyxAR9lllOUWkdpRucpB6yiNVRFlF1GaxvyL0qsPokkTjSthwVCXgrQteBJ6Ca2ndTha6+BwUlR+SOLRu6aSSl7mRcLDWiqC+0rMfLzmTbDPkbB0r569K2Z7hoaEMmBDzQy1FpVTzWRthlS6uBFrXNLmNRtrGpYHlmD14RYbV9jfNWAJZNecUquCZMiYtBhiCWohN2WBTSxc61i81m6J8SBAex9g1h0gL5mU0HcwI2EWXVi+ZVVYrB6EXQAFR4XKENjLJ6bhgm+utM5Ro0du0PgXEVYhqGG+qX1EIiyDYQOY10kbKKMpP4wpj09G0Yh3k7OdbG1+fLqlHI0jy432c4BwVIPr3MD0aw08/YH+nfbbP2N89rZ/324NMsq5xppNqYoCTFfG2V7G454Qjw4c8WoX7wDEx0fiO3/wAyA/O+pAbzqw3m3TELIwOZQTdPZrsnB+4IiHl4UkPiIfWheS5CgMfQvDZEBhSD5xY/7fZyjZf63u7dD0fKv++5B/QRwO5ia8h3mP6sDm9tNeE9v58vcC"),this.addDataEntry("table",180,120,"Table 2","7ZjBbqMwEIafhmuFISTptbTbS/eyrfbuBie2ZDzITEqyT79jMMlGWVTUBlqVSkTyjGeM+SbDLxPEab67t7yQPyETOojvgji1ANiM8l0qtA6iUGVBfBtEUUi/IPrRMcvq2bDgVhjskxA1CS9cb0XjaRwl7rV3lJIXboj82bluJOa0zVtGw0oqFI8FX7n5ih6CfCVyi4/qj3OFZK/AIFdGWJ+zAq15Uap6sSZCKp098D1ssb1Na7nobW4eKL/00Raqf02/f2FR7DoZ1C4P4F5ALtDuKaRSGUofsWw4hVKojWzTPLyQl41jc8g9IqWBp/p/wnF/wrRlVFz/EivkZtMH9jnMzELxxO1GoHcUoAwKe/dCNFpoa6V1ChpcTQwYdyOEwk9qsW5znwER8ha8B3NYtIaS3NBFmNLwKgkSepqUbHa06XLhFlMwJVr6J7g1BC+xEiX2LWD0tgLOLlC/2Vn9ftfDKGQXLaQxLvpYyHfXCIjpWkNFplRZJkxf2PGrsOcDsU46WV+2aT49690p5xHQzzvRx5NEf3j3j8B+8S0Rg0nE/rRMYyjGsrOVZl+0lRYfphjXnayTabEeXzFY2Ml+Pkn2Y0oGY9+aMbRmLEfUDHZ+EG+bafFFm4m9fiofrHvOD+Ut7eXEaH+AbnSfqK+nCX9A4SDz+DGxnjv51vgX"),this.addDataEntry("table title",180,120,"Table with Title 1","7ZhRb6MwDMc/Da8nAmPdvZbu9nJ7WfcFMnAhUohR4o12n34OpKumrmqlDXa6VqJS/Lcdkp8bWSFK82Z9Z2Vb32MJOkpvozS3iDSMmnUOWkdJrMooXURJEvMvSv4c8IreG7fSgqFTEpIh4UXqZxiUR/mkYVAdbXRQXS1bP6Tem85ranitC8HDrlYEy1YW3t/xTlhzJC0t1auX0piFAg1JZcCGpAK1lq1T/WyLPqJWuvwrN/hM2/dsrfmKs5dhMT5balUZHhe8Sz/lPOwCLMH6IIleChjuABsgu+GQTpVUh4ibgVZcg6rqbVoWROkGoXrP3YHlQWD7Oed0j/NBxLxkUlI/QEHSVKfQ3odZWmwfpa2AgtCi8qhuX5iGC9pKaZ2jRl8Tg8a/iLANTg2rbe4TEmETDBvAvE/aQ8nm/DCmPP6VRRnvJmdb7Gx+fLilHI0jy/8EPwdIRx04OrWAyecF3ATEoUzH6nn1DeW8GrecxvjoXTm/XClksiuNHZu1KkswpyJPj56Z65EQZ2eOeP0R7wTEry/E+4RkOuSzS1sYuy3MJmwLN+dygmY/1hZ+nzni6duCiC/Ip+4LQlwaw9iNQYgJO4PYv2j/p4dIHL9mj3ZqRr5l//uQf6A7nM1V+AjzEdsDm7svgr3vwwfDNw=="),this.addDataEntry("table title",180,150,"Table with Title 2","7Zhdb5swFIZ/DbcTHyVrbiFdb7Kbptq9Cw5YMj7IPi1kv37HYJK1FDWbQoOmSUSyz4dt3id+L/CitGrvNavL75Bz6UV3XpRqAOxHVZtyKb3QF7kXbbww9Onnhd8mskGX9WumucJzGsK+4YXJZ95HHtmT5H3U4EG6qClZbYfYZaOkxIrOuglo2JQC+a5mmc039CYUM8g07sRPG4p8CmSgkAnFtWvKQEpWG9GttukqSiHzLTvAMw77DLNkL1qeP0BjXLeGZkuLGde6p8V37qw2zaQoFI0zEsHumLiX5Bp5OylUF3Iq3XOoOOoDlTQix9JV3PZi+iUXRTm0xS7ITB8ojr0n3WngpH8fQzTCMEmAjoyCyQeeIVPFOTDGWuca6kemC44uUIOwUt29kBpHVYWUKUiwyBQouxFC7ZKS74feJ0CEaiDjhDku2okSJ/SQTKn/JfZiepuU5sFpTo8t15iCMqjpj2LX4Mxgww2eCzB8H+DBSewwfcQzugDOmxHO4KI8lbLVJ55/jMp/gwpI2r2EhqalyHOuztU8+vDS3MykcTzS+Ec3DP2Faz24U1+bGNpQqGLbd65mgNG+BvH7BZgLzupf8LO34JblZ6tP9LOvI5yX5bkcP1tdzc9uJ/1s4VrP52cTMK7gZ+v/fja3n60/0c8Cf8QzWvYl++s7tL6aoQXBpKMtXOz5HG2CxvyORtPTR4Uu9+qbwy8="),this.addDataEntry("crossfunctional cross-functional cross functional flowchart swimlane table",400,400,"Cross-Functional Flowchart","7ZhRb5swEMc/DY+bMCRt97jQpi+tVC2fwINbbMnYyD4C6aefjaHpBrTRlNCoTALJPp9t+P25O5kgTvL6XtOCPaoMRBDfBXGilULfyusEhAiikGdBfBtEUWjvIFqPjJJmNCyoBonHTIj8hB0VJXiL3dyYL+tSpsiVpM55LVSVMqrROxvci9bZMFq4JtKfzrRKGRfZA92rEjtr11tpVT1wCcYOhM5ViTKXry0G7RYb/uwWXDgDw9wCuSW2WTGOsClo6gYri8uvIGhheLN1s4KGtNSG7+AHGL+Os0JdUJm1nUJxiaDvdhZQt/EvJXHTvpTbjAq+lbadgnO1hhYSaIR6FHRjainfg8oB9d66VDxD5j0WoRcjZMC3DP8yUuMN25e5B91so5VuWMa4J+P3FJW2JtLXrOK5oNLJxZTmz/blqXhNp3mO5cpe9smS8OsyWNp5ie2TQ99ezl1joqRBTXmDAajBCgxejprHKBcNK7fvBPIz3hOSRCcQctET8olRA+8JmSopIW2j8GOD6Sji8TDxepT4C9yTE1+OEo/mQ5xcTYn8ahR5PB/k0c2UyK9HC8SbX/mnLBAnqAlD8XK+onDTE+/fw+TiQF9fTin4Nl/O0xYAEs6X9LR5n5Ae6S7xv1lr/yf+4cQ/pN75Ej/pH88/UZyQkRPzR6R+0j9Bz4f0xMm/f8adD+qzZn/bPfw5bMb++LH4Gw=="),this.createVertexTemplateEntry("text;html=1;strokeColor=#c0c0c0;fillColor=#ffffff;overflow=fill;rounded=0;",280,160,'<table border="1" width="100%" height="100%" cellpadding="4" style="width:100%;height:100%;border-collapse:collapse;"><tr style="background-color:#A7C942;color:#ffffff;border:1px solid #98bf21;"><th align="left">Title 1</th><th align="left">Title 2</th><th align="left">Title 3</th></tr><tr style="border:1px solid #98bf21;"><td>Value 1</td><td>Value 2</td><td>Value 3</td></tr><tr style="background-color:#EAF2D3;border:1px solid #98bf21;"><td>Value 4</td><td>Value 5</td><td>Value 6</td></tr><tr style="border:1px solid #98bf21;"><td>Value 7</td><td>Value 8</td><td>Value 9</td></tr><tr style="background-color:#EAF2D3;border:1px solid #98bf21;"><td>Value 10</td><td>Value 11</td><td>Value 12</td></tr></table>',"HTML Table 1"),this.createVertexTemplateEntry("text;html=1;strokeColor=#c0c0c0;fillColor=none;overflow=fill;",180,140,'<table border="0" width="100%" height="100%" style="width:100%;height:100%;border-collapse:collapse;"><tr><td align="center">Value 1</td><td align="center">Value 2</td><td align="center">Value 3</td></tr><tr><td align="center">Value 4</td><td align="center">Value 5</td><td align="center">Value 6</td></tr><tr><td align="center">Value 7</td><td align="center">Value 8</td><td align="center">Value 9</td></tr></table>',"HTML Table 2"),this.createVertexTemplateEntry("text;html=1;strokeColor=none;fillColor=none;overflow=fill;",180,140,'<table border="1" width="100%" height="100%" style="width:100%;height:100%;border-collapse:collapse;"><tr><td align="center">Value 1</td><td align="center">Value 2</td><td align="center">Value 3</td></tr><tr><td align="center">Value 4</td><td align="center">Value 5</td><td align="center">Value 6</td></tr><tr><td align="center">Value 7</td><td align="center">Value 8</td><td align="center">Value 9</td></tr></table>',"HTML Table 3"),this.createVertexTemplateEntry("text;html=1;strokeColor=none;fillColor=none;overflow=fill;",160,140,'<table border="1" width="100%" height="100%" cellpadding="4" style="width:100%;height:100%;border-collapse:collapse;"><tr><th align="center"><b>Title</b></th></tr><tr><td align="center">Section 1.1\nSection 1.2\nSection 1.3</td></tr><tr><td align="center">Section 2.1\nSection 2.2\nSection 2.3</td></tr></table>',"HTML Table 4"),this.addEntry("link hyperlink",mxUtils.bind(this,(function(){var e=new mxCell("Link",new mxGeometry(0,0,60,40),"text;html=1;strokeColor=none;fillColor=none;whiteSpace=wrap;align=center;verticalAlign=middle;fontColor=#0000EE;fontStyle=4;");return e.vertex=!0,this.graph.setLinkForCell(e,"https://www.draw.io"),this.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Link")}))),this.addEntry("timestamp date time text label",mxUtils.bind(this,(function(){var e=new mxCell("%date{ddd mmm dd yyyy HH:MM:ss}%",new mxGeometry(0,0,160,20),"text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;overflow=hidden;");return e.vertex=!0,this.graph.setAttributeForCell(e,"placeholders","1"),this.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Timestamp")}))),this.addEntry("variable placeholder metadata hello world text label",mxUtils.bind(this,(function(){var e=new mxCell("%name% Text",new mxGeometry(0,0,80,20),"text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;overflow=hidden;");return e.vertex=!0,this.graph.setAttributeForCell(e,"placeholders","1"),this.graph.setAttributeForCell(e,"name","Variable"),this.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Variable")}))),this.createVertexTemplateEntry("shape=ext;double=1;rounded=0;whiteSpace=wrap;html=1;",120,80,"","Double Rectangle",null,null,"rect rectangle box double"),this.createVertexTemplateEntry("shape=ext;double=1;rounded=1;whiteSpace=wrap;html=1;",120,80,"","Double Rounded Rectangle",null,null,"rounded rect rectangle box double"),this.createVertexTemplateEntry("ellipse;shape=doubleEllipse;whiteSpace=wrap;html=1;",100,60,"","Double Ellipse",null,null,"oval ellipse start end state double"),this.createVertexTemplateEntry("shape=ext;double=1;whiteSpace=wrap;html=1;aspect=fixed;",80,80,"","Double Square",null,null,"double square"),this.createVertexTemplateEntry("ellipse;shape=doubleEllipse;whiteSpace=wrap;html=1;aspect=fixed;",80,80,"","Double Circle",null,null,"double circle"),this.createVertexTemplateEntry("rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#1ba1e2;sketch=1;",120,60,"","Rectangle Sketch",!0,null,"rectangle rect box text sketch comic retro"),this.createVertexTemplateEntry("ellipse;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=2;hachureGap=8;fillColor=#990000;fillStyle=dots;sketch=1;",120,60,"","Ellipse Sketch",!0,null,"ellipse oval sketch comic retro"),this.createVertexTemplateEntry("rhombus;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=-1;hachureGap=8;fillStyle=cross-hatch;fillColor=#006600;sketch=1;",120,60,"","Diamond Sketch",!0,null,"diamond sketch comic retro"),this.createVertexTemplateEntry("html=1;whiteSpace=wrap;shape=isoCube2;backgroundOutline=1;isoAngle=15;",90,100,"","Isometric Cube",!0,null,"cube box iso isometric"),this.createVertexTemplateEntry("html=1;whiteSpace=wrap;aspect=fixed;shape=isoRectangle;",150,90,"","Isometric Square",!0,null,"rectangle rect box iso isometric"),this.createEdgeTemplateEntry("edgeStyle=isometricEdgeStyle;endArrow=none;html=1;",50,100,"","Isometric Edge 1"),this.createEdgeTemplateEntry("edgeStyle=isometricEdgeStyle;endArrow=none;html=1;elbow=vertical;",50,100,"","Isometric Edge 2"),this.createVertexTemplateEntry("shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;",20,120,"","Curly Bracket"),this.createVertexTemplateEntry("line;strokeWidth=2;html=1;",160,10,"","Horizontal Line"),this.createVertexTemplateEntry("line;strokeWidth=2;direction=south;html=1;",10,160,"","Vertical Line"),this.createVertexTemplateEntry("line;strokeWidth=4;html=1;perimeter=backbonePerimeter;points=[];outlineConnect=0;",160,10,"","Horizontal Backbone",!1,null,"backbone bus network"),this.createVertexTemplateEntry("line;strokeWidth=4;direction=south;html=1;perimeter=backbonePerimeter;points=[];outlineConnect=0;",10,160,"","Vertical Backbone",!1,null,"backbone bus network"),this.createVertexTemplateEntry("shape=crossbar;whiteSpace=wrap;html=1;rounded=1;",120,20,"","Crossbar",!1,null,"crossbar distance measure dimension unit"),this.createVertexTemplateEntry("shape=image;html=1;verticalLabelPosition=bottom;verticalAlign=top;imageAspect=1;aspect=fixed;image="+this.gearImage,52,61,"","Image (Fixed Aspect)",!1,null,"fixed image icon symbol"),this.createVertexTemplateEntry("shape=image;html=1;verticalLabelPosition=bottom;verticalAlign=top;imageAspect=0;image="+this.gearImage,50,60,"","Image (Variable Aspect)",!1,null,"strechted image icon symbol"),this.createVertexTemplateEntry("icon;html=1;image="+this.gearImage,60,60,"Icon","Icon",!1,null,"icon image symbol"),this.createVertexTemplateEntry("label;whiteSpace=wrap;html=1;image="+this.gearImage,140,60,"Label","Label 1",null,null,"label image icon symbol"),this.createVertexTemplateEntry("label;whiteSpace=wrap;html=1;align=center;verticalAlign=bottom;spacingLeft=0;spacingBottom=4;imageAlign=center;imageVerticalAlign=top;image="+this.gearImage,120,80,"Label","Label 2",null,null,"label image icon symbol"),this.addEntry("shape group container",(function(){var e=new mxCell("Label",new mxGeometry(0,0,160,70),"html=1;whiteSpace=wrap;container=1;recursiveResize=0;collapsible=0;");e.vertex=!0;var l=new mxCell("",new mxGeometry(20,20,20,30),"triangle;html=1;whiteSpace=wrap;");return l.vertex=!0,e.insert(l),t.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Shape Group")})),this.createVertexTemplateEntry("shape=partialRectangle;whiteSpace=wrap;html=1;left=0;right=0;fillColor=none;",120,60,"","Partial Rectangle"),this.createVertexTemplateEntry("shape=partialRectangle;whiteSpace=wrap;html=1;bottom=1;right=1;left=1;top=0;fillColor=none;routingCenterX=-0.5;",120,60,"","Partial Rectangle"),this.createEdgeTemplateEntry("edgeStyle=segmentEdgeStyle;endArrow=classic;html=1;",50,50,"","Manual Line",null,l+"manual"),this.createEdgeTemplateEntry("shape=filledEdge;rounded=0;fixDash=1;endArrow=none;strokeWidth=10;fillColor=#ffffff;edgeStyle=orthogonalEdgeStyle;",60,40,"","Filled Edge"),this.createEdgeTemplateEntry("edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;html=1;",50,50,"","Horizontal Elbow",null,l+"elbow horizontal"),this.createEdgeTemplateEntry("edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=classic;html=1;",50,50,"","Vertical Elbow",null,l+"elbow vertical")];this.addPaletteFunctions("misc",mxResources.get("misc"),null==e||e,i)},Sidebar.prototype.addAdvancedPalette=function(e){this.addPaletteFunctions("advanced",mxResources.get("advanced"),null!=e&&e,this.createAdvancedShapes())},Sidebar.prototype.addBasicPalette=function(e){this.addStencilPalette("basic",mxResources.get("basic"),e+"/basic.xml",";whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2",null,null,null,null,[this.createVertexTemplateEntry("shape=partialRectangle;whiteSpace=wrap;html=1;top=0;bottom=0;fillColor=none;",120,60,"","Partial Rectangle"),this.createVertexTemplateEntry("shape=partialRectangle;whiteSpace=wrap;html=1;right=0;top=0;bottom=0;fillColor=none;routingCenterX=-0.5;",120,60,"","Partial Rectangle"),this.createVertexTemplateEntry("shape=partialRectangle;whiteSpace=wrap;html=1;bottom=0;right=0;fillColor=none;",120,60,"","Partial Rectangle"),this.createVertexTemplateEntry("shape=partialRectangle;whiteSpace=wrap;html=1;top=0;left=0;fillColor=none;",120,60,"","Partial Rectangle")])},Sidebar.prototype.createAdvancedShapes=function(){var e=this,t=new mxCell("List Item",new mxGeometry(0,0,60,26),"text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;");return t.vertex=!0,[this.createVertexTemplateEntry("shape=tapeData;whiteSpace=wrap;html=1;perimeter=ellipsePerimeter;",80,80,"","Tape Data"),this.createVertexTemplateEntry("shape=manualInput;whiteSpace=wrap;html=1;",80,80,"","Manual Input"),this.createVertexTemplateEntry("shape=loopLimit;whiteSpace=wrap;html=1;",100,80,"","Loop Limit"),this.createVertexTemplateEntry("shape=offPageConnector;whiteSpace=wrap;html=1;",80,80,"","Off Page Connector"),this.createVertexTemplateEntry("shape=delay;whiteSpace=wrap;html=1;",80,40,"","Delay"),this.createVertexTemplateEntry("shape=display;whiteSpace=wrap;html=1;",80,40,"","Display"),this.createVertexTemplateEntry("shape=singleArrow;direction=west;whiteSpace=wrap;html=1;",100,60,"","Arrow Left"),this.createVertexTemplateEntry("shape=singleArrow;whiteSpace=wrap;html=1;",100,60,"","Arrow Right"),this.createVertexTemplateEntry("shape=singleArrow;direction=north;whiteSpace=wrap;html=1;",60,100,"","Arrow Up"),this.createVertexTemplateEntry("shape=singleArrow;direction=south;whiteSpace=wrap;html=1;",60,100,"","Arrow Down"),this.createVertexTemplateEntry("shape=doubleArrow;whiteSpace=wrap;html=1;",100,60,"","Double Arrow"),this.createVertexTemplateEntry("shape=doubleArrow;direction=south;whiteSpace=wrap;html=1;",60,100,"","Double Arrow Vertical",null,null,"double arrow"),this.createVertexTemplateEntry("shape=actor;whiteSpace=wrap;html=1;",40,60,"","User",null,null,"user person human"),this.createVertexTemplateEntry("shape=cross;whiteSpace=wrap;html=1;",80,80,"","Cross"),this.createVertexTemplateEntry("shape=corner;whiteSpace=wrap;html=1;",80,80,"","Corner"),this.createVertexTemplateEntry("shape=tee;whiteSpace=wrap;html=1;",80,80,"","Tee"),this.createVertexTemplateEntry("shape=datastore;whiteSpace=wrap;html=1;",60,60,"","Data Store",null,null,"data store cylinder database"),this.createVertexTemplateEntry("shape=orEllipse;perimeter=ellipsePerimeter;whiteSpace=wrap;html=1;backgroundOutline=1;",80,80,"","Or",null,null,"or circle oval ellipse"),this.createVertexTemplateEntry("shape=sumEllipse;perimeter=ellipsePerimeter;whiteSpace=wrap;html=1;backgroundOutline=1;",80,80,"","Sum",null,null,"sum circle oval ellipse"),this.createVertexTemplateEntry("shape=lineEllipse;perimeter=ellipsePerimeter;whiteSpace=wrap;html=1;backgroundOutline=1;",80,80,"","Ellipse with horizontal divider",null,null,"circle oval ellipse"),this.createVertexTemplateEntry("shape=lineEllipse;line=vertical;perimeter=ellipsePerimeter;whiteSpace=wrap;html=1;backgroundOutline=1;",80,80,"","Ellipse with vertical divider",null,null,"circle oval ellipse"),this.createVertexTemplateEntry("shape=sortShape;perimeter=rhombusPerimeter;whiteSpace=wrap;html=1;",80,80,"","Sort",null,null,"sort"),this.createVertexTemplateEntry("shape=collate;whiteSpace=wrap;html=1;",80,80,"","Collate",null,null,"collate"),this.createVertexTemplateEntry("shape=switch;whiteSpace=wrap;html=1;",60,60,"","Switch",null,null,"switch router"),this.addEntry("process bar",(function(){return e.createVertexTemplateFromData("zZXRaoMwFIafJpcDjbNrb2233rRQ8AkyPdPQaCRJV+3T7yTG2rUVBoOtgpDzn/xJzncCIdGyateKNeVW5iBI9EqipZLS9KOqXYIQhAY8J9GKUBrgT+jbRDZ02aBhCmrzEwPtDZ9MHKBXdkpmoDWKCVN9VptO+Kw+8kqwGqMkK7nIN6yTB7uTNizbD1FSSsVPsjYMC1qFKHxwIZZSSIVxLZ1/nJNar5+oQPMT7IYCrqUta1ENzuqGaeOFTArBGs3f3Vmtoo2Se7ja1h00kSoHK4bBIKUNy3hdoPYU0mF91i9mT8EEL2ocZ3gKa00ayWujLZY4IfHKFonVDLsRGgXuQ90zBmWgneyTk3yT1iArMKrDKUeem9L3ajHrbSXwohxsQd/ggOleKM7ese048J2/fwuim1uQGmhQCW8vQMkacP3GCQgBFMftHEsr7cYYe95CnmKTPMFbYD8CQ++DGQy+/M5X4ku5wHYmdIktfvk9tecpavThqS3m/0YtnqIWPTy1cD77K2wYjo+Ay317I74A",296,100,"Process Bar")})),this.createVertexTemplateEntry("swimlane;",200,200,"Container","Container",null,null,"container swimlane lane pool group"),this.addEntry("list group erd table",(function(){var l=new mxCell("List",new mxGeometry(0,0,140,110),"swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;");return l.vertex=!0,l.insert(e.cloneCell(t,"Item 1")),l.insert(e.cloneCell(t,"Item 2")),l.insert(e.cloneCell(t,"Item 3")),e.createVertexTemplateFromCells([l],l.geometry.width,l.geometry.height,"List")})),this.addEntry("list item entry value group erd table",(function(){return e.createVertexTemplateFromCells([e.cloneCell(t,"List Item")],t.geometry.width,t.geometry.height,"List Item")}))]},Sidebar.prototype.createTitle=function(e){var t=document.createElement("a");return t.setAttribute("title",mxResources.get("sidebarTooltip")),t.className="geTitle",mxUtils.write(t,e),t},Sidebar.prototype.createThumb=function(e,t,l,i,r,n,a,o,s){this.graph.labelsVisible=null==n||n;var h=mxClient.NO_FO;mxClient.NO_FO=Editor.prototype.originalNoForeignObject,this.graph.view.scaleAndTranslate(1,0,0),this.graph.addCells(e);var d=this.graph.getGraphBounds(),p=Math.floor(100*Math.min((t-2*this.thumbBorder)/d.width,(l-2*this.thumbBorder)/d.height))/100;this.graph.view.scaleAndTranslate(p,Math.floor((t-d.width*p)/2/p-d.x),Math.floor((l-d.height*p)/2/p-d.y));var c=null;if(this.graph.dialect!=mxConstants.DIALECT_SVG||mxClient.NO_FO||null==this.graph.view.getCanvas().ownerSVGElement?((c=this.graph.container.cloneNode(!1)).innerHTML=this.graph.container.innerHTML,(mxClient.IS_QUIRKS||8==document.documentMode)&&(c.firstChild.style.overflow="visible")):c=this.graph.view.getCanvas().ownerSVGElement.cloneNode(!0),this.graph.getModel().clear(),mxClient.NO_FO=h,mxClient.IS_IE6&&(i.style.backgroundImage="url("+this.editorUi.editor.transparentImage+")"),c.style.position="relative",c.style.overflow="hidden",c.style.left=this.thumbBorder+"px",c.style.top=this.thumbBorder+"px",c.style.width=t+"px",c.style.height=l+"px",c.style.visibility="",c.style.minWidth="",c.style.minHeight="",i.appendChild(c),this.sidebarTitles&&null!=r&&0!=a){var m=mxClient.IS_QUIRKS?2*this.thumbPadding+2:0;i.style.height=this.thumbHeight+m+this.sidebarTitleSize+8+"px";var u=document.createElement("div");u.style.fontSize=this.sidebarTitleSize+"px",u.style.color="#303030",u.style.textAlign="center",u.style.whiteSpace="nowrap",mxClient.IS_IE&&(u.style.height=this.sidebarTitleSize+12+"px"),u.style.paddingTop="4px",mxUtils.write(u,r),i.appendChild(u)}return d},Sidebar.prototype.createItem=function(e,t,l,i,r,n,a){var o=document.createElement("a");o.className="geItem",o.style.overflow="hidden";var s=mxClient.IS_QUIRKS?8+2*this.thumbPadding:2*this.thumbBorder;o.style.width=this.thumbWidth+s+"px",o.style.height=this.thumbHeight+s+"px",o.style.padding=this.thumbPadding+"px",mxClient.IS_IE6&&(o.style.border="none"),mxEvent.addListener(o,"click",(function(e){mxEvent.consume(e)})),this.createThumb(e,this.thumbWidth,this.thumbHeight,o,t,l,i,r,n);var h=new mxRectangle(0,0,r,n);if(e.length>1||e[0].vertex){var d=this.createDragSource(o,this.createDropHandler(e,!0,a,h),this.createDragPreview(r,n),e,h);this.addClickHandler(o,d,e),d.isGuidesEnabled=mxUtils.bind(this,(function(){return this.editorUi.editor.graph.graphHandler.guidesEnabled}))}else if(null!=e[0]&&e[0].edge){d=this.createDragSource(o,this.createDropHandler(e,!1,a,h),this.createDragPreview(r,n),e,h);this.addClickHandler(o,d,e)}return mxClient.IS_IOS||mxEvent.addGestureListeners(o,null,mxUtils.bind(this,(function(i){mxEvent.isMouseEvent(i)&&this.showTooltip(o,e,h.width,h.height,t,l)}))),o},Sidebar.prototype.updateShapes=function(e,t){var l=this.editorUi.editor.graph,i=l.getCellStyle(e),r=[];l.model.beginUpdate();try{for(var n=l.getModel().getStyle(e),a=["shadow","dashed","dashPattern","fontFamily","fontSize","fontColor","align","startFill","startSize","endFill","endSize","strokeColor","strokeWidth","fillColor","gradientColor","html","part","noEdgeStyle","edgeStyle","elbow","childLayout","recursiveResize","container","collapsible","connectable","comic","sketch","fillWeight","hachureGap","hachureAngle","jiggle","disableMultiStroke","disableMultiStrokeFill","fillStyle","curveFitting","simplification","sketchStyle"],o=0;o<t.length;o++){var s=t[o];if(l.getModel().isVertex(s)==l.getModel().isVertex(e)||l.getModel().isEdge(s)==l.getModel().isEdge(e)){var h=l.getCurrentCellStyle(t[o]);if(l.getModel().setStyle(s,n),"1"==mxUtils.getValue(h,"composite","0"))for(var d=l.model.getChildCount(s);d>=0;d--)l.model.remove(l.model.getChildAt(s,d));"umlLifeline"==h[mxConstants.STYLE_SHAPE]&&"umlLifeline"!=i[mxConstants.STYLE_SHAPE]&&(l.setCellStyles(mxConstants.STYLE_SHAPE,"umlLifeline",[s]),l.setCellStyles("participant",i[mxConstants.STYLE_SHAPE],[s]));for(d=0;d<a.length;d++){var p=h[a[d]];null!=p&&l.setCellStyles(a[d],p,[s])}r.push(s)}}}finally{l.model.endUpdate()}return r},Sidebar.prototype.createDropHandler=function(e,t,l,i){return l=null==l||l,mxUtils.bind(this,(function(r,n,a,o,s,h){for(var d=h?null:mxEvent.isTouchEvent(n)||mxEvent.isPenEvent(n)?document.elementFromPoint(mxEvent.getClientX(n),mxEvent.getClientY(n)):mxEvent.getSource(n);null!=d&&d!=this.container;)d=d.parentNode;if(null==d&&r.isEnabled()){if((e=r.getImportableCells(e)).length>0){r.stopEditing();var p=null!=a&&!mxEvent.isAltDown(n)&&r.isValidDropTarget(a,e,n),c=null;if(null==a||p||(a=null),!r.isCellLocked(a||r.getDefaultParent())){r.model.beginUpdate();try{if(o=Math.round(o),s=Math.round(s),t&&r.isSplitTarget(a,e,n)){var m=r.view.scale,u=(o+(w=r.view.translate).x)*m,g=(s+w.y)*m,x=r.cloneCells(e);r.splitEdge(a,x,null,o-i.width/2,s-i.height/2,u,g),c=x}else e.length>0&&(c=r.importCells(e,o,s,a));if(null!=r.layoutManager){var y=r.layoutManager.getLayout(a);if(null!=y){m=r.view.scale,u=(o+(w=r.view.translate).x)*m,g=(s+w.y)*m;for(var w,b=0;b<c.length;b++)y.moveCell(c[b],u,g)}}!l||null!=n&&mxEvent.isShiftDown(n)||r.fireEvent(new mxEventObject("cellsInserted","cells",c))}catch(e){this.editorUi.handleError(e)}finally{r.model.endUpdate()}null!=c&&c.length>0&&(r.scrollCellToVisible(c[0]),r.setSelectionCells(c)),r.editAfterInsert&&null!=n&&mxEvent.isMouseEvent(n)&&null!=c&&1==c.length&&window.setTimeout((function(){r.startEditing(c[0])}),0)}}mxEvent.consume(n)}}))},Sidebar.prototype.createDragPreview=function(e,t){var l=document.createElement("div");return l.style.border=this.dragPreviewBorder,l.style.width=e+"px",l.style.height=t+"px",l},Sidebar.prototype.dropAndConnect=function(e,t,l,i,r){var n=this.getDropAndConnectGeometry(e,t[i],l,t),a=[];if(null!=n){var o=this.editorUi.editor.graph,s=null;o.model.beginUpdate();try{var h=o.getCellGeometry(e),d=o.getCellGeometry(t[i]),p=o.model.getParent(e),c=!0;if(null!=o.layoutManager){var m=o.layoutManager.getLayout(p);null!=m&&m.constructor==mxStackLayout&&(c=!1)}a=o.model.isEdge(e)?null:o.view.getState(p);var u=0,g=0;if(null!=a){u=(b=a.origin).x,g=b.y;var x=n.getTerminalPoint(!1);null!=x&&(x.x+=b.x,x.y+=b.y)}var y=!o.isTableRow(e)&&!o.isTableCell(e)&&(o.model.isEdge(e)||null!=h&&!h.relative&&c),w=o.getCellAt((n.x+u+o.view.translate.x)*o.view.scale,(n.y+g+o.view.translate.y)*o.view.scale,null,null,null,(function(e,t,l){return!o.isContainer(e.cell)}));if(null!=w&&w!=p){if(null!=(a=o.view.getState(w))){var b=a.origin;p=w,y=!0,o.model.isEdge(e)||(n.x-=b.x-u,n.y-=b.y-g)}}else(!c||o.isTableRow(e)||o.isTableCell(e))&&(n.x+=u,n.y+=g);if(u=d.x,g=d.y,o.model.isEdge(t[i])&&(u=0,g=0),a=t=o.importCells(t,n.x-(y?u:0),n.y-(y?g:0),y?p:null),o.model.isEdge(e))o.model.setTerminal(e,t[i],l==mxConstants.DIRECTION_NORTH);else if(o.model.isEdge(t[i])){o.model.setTerminal(t[i],e,!0);var E=o.getCellGeometry(t[i]);if(E.points=null,null!=E.getTerminalPoint(!1))E.setTerminalPoint(n.getTerminalPoint(!1),!1);else if(y&&o.model.isVertex(p)){var f=o.view.getState(p);b=f.cell!=o.view.currentRoot?f.origin:new mxPoint(0,0);o.cellsMoved(t,b.x,b.y,null,null,!0)}}else d=o.getCellGeometry(t[i]),u=n.x-Math.round(d.x),g=n.y-Math.round(d.y),n.x=Math.round(d.x),n.y=Math.round(d.y),o.model.setGeometry(t[i],n),o.cellsMoved(t,u,g,null,null,!0),a=t.slice(),s=1==a.length?a[0]:null,t.push(o.insertEdge(null,null,"",e,t[i],o.createCurrentEdgeStyle()));null!=r&&mxEvent.isShiftDown(r)||o.fireEvent(new mxEventObject("cellsInserted","cells",t))}catch(e){this.editorUi.handleError(e)}finally{o.model.endUpdate()}o.editAfterInsert&&null!=r&&mxEvent.isMouseEvent(r)&&null!=s&&window.setTimeout((function(){o.startEditing(s)}),0)}return a},Sidebar.prototype.getDropAndConnectGeometry=function(e,t,l,i){var r=this.editorUi.editor.graph,n=r.view,a=i.length>1,o=r.getCellGeometry(e),s=r.getCellGeometry(t);if(null!=o&&null!=s)if(s=s.clone(),r.model.isEdge(e)){var h=(c=r.view.getState(e)).absolutePoints,d=h[0],p=h[h.length-1];l==mxConstants.DIRECTION_NORTH?(s.x=d.x/n.scale-n.translate.x-s.width/2,s.y=d.y/n.scale-n.translate.y-s.height/2):(s.x=p.x/n.scale-n.translate.x-s.width/2,s.y=p.y/n.scale-n.translate.y-s.height/2)}else{if(o.relative){var c=r.view.getState(e);(o=o.clone()).x=(c.x-n.translate.x)/n.scale,o.y=(c.y-n.translate.y)/n.scale}var m=r.defaultEdgeLength;if(r.model.isEdge(t)&&null!=s.getTerminalPoint(!0)&&null!=s.getTerminalPoint(!1)){d=s.getTerminalPoint(!0);var u=(p=s.getTerminalPoint(!1)).x-d.x,g=p.y-d.y;m=Math.sqrt(u*u+g*g),s.x=o.getCenterX(),s.y=o.getCenterY(),s.width=1,s.height=1,l==mxConstants.DIRECTION_NORTH?(s.height=m,s.y=o.y-m,s.setTerminalPoint(new mxPoint(s.x,s.y),!1)):l==mxConstants.DIRECTION_EAST?(s.width=m,s.x=o.x+o.width,s.setTerminalPoint(new mxPoint(s.x+s.width,s.y),!1)):l==mxConstants.DIRECTION_SOUTH?(s.height=m,s.y=o.y+o.height,s.setTerminalPoint(new mxPoint(s.x,s.y+s.height),!1)):l==mxConstants.DIRECTION_WEST&&(s.width=m,s.x=o.x-m,s.setTerminalPoint(new mxPoint(s.x,s.y),!1))}else if(!a&&s.width>45&&s.height>45&&o.width>45&&o.height>45&&(s.width=s.width*(o.height/s.height),s.height=o.height),s.x=o.x+o.width/2-s.width/2,s.y=o.y+o.height/2-s.height/2,l==mxConstants.DIRECTION_NORTH?s.y=s.y-o.height/2-s.height/2-m:l==mxConstants.DIRECTION_EAST?s.x=s.x+o.width/2+s.width/2+m:l==mxConstants.DIRECTION_SOUTH?s.y=s.y+o.height/2+s.height/2+m:l==mxConstants.DIRECTION_WEST&&(s.x=s.x-o.width/2-s.width/2-m),r.model.isEdge(t)&&null!=s.getTerminalPoint(!0)&&null!=t.getTerminal(!1)){var x=r.getCellGeometry(t.getTerminal(!1));null!=x&&(l==mxConstants.DIRECTION_NORTH?(s.x-=x.getCenterX(),s.y-=x.getCenterY()+x.height/2):l==mxConstants.DIRECTION_EAST?(s.x-=x.getCenterX()-x.width/2,s.y-=x.getCenterY()):l==mxConstants.DIRECTION_SOUTH?(s.x-=x.getCenterX(),s.y-=x.getCenterY()-x.height/2):l==mxConstants.DIRECTION_WEST&&(s.x-=x.getCenterX()+x.width/2,s.y-=x.getCenterY()))}}return s},Sidebar.prototype.isDropStyleEnabled=function(e,t){var l=!0;if(null!=t&&1==e.length){var i=this.graph.getCellStyle(e[t]);null!=i&&(l=mxUtils.getValue(i,mxConstants.STYLE_STROKECOLOR,mxConstants.NONE)!=mxConstants.NONE||mxUtils.getValue(i,mxConstants.STYLE_FILLCOLOR,mxConstants.NONE)!=mxConstants.NONE)}return l},Sidebar.prototype.isDropStyleTargetIgnored=function(e){return this.graph.isSwimlane(e.cell)||this.graph.isTableCell(e.cell)||this.graph.isTableRow(e.cell)||this.graph.isTable(e.cell)},Sidebar.prototype.createDragSource=function(e,t,l,i,r){for(var n=this.editorUi,a=n.editor.graph,o=null,s=null,h=this,d=0;d<i.length&&(null==s&&a.model.isVertex(i[d])?s=d:null==o&&a.model.isEdge(i[d])&&null==a.model.getTerminal(i[d],!0)&&(o=d),null==s||null==o);d++);var p=this.isDropStyleEnabled(i,s),c=mxUtils.makeDraggable(e,a,mxUtils.bind(this,(function(e,l,r,n,a){if(null!=this.updateThread&&window.clearTimeout(this.updateThread),null!=i&&null!=y&&R==T){var h=e.isCellSelected(y.cell)?e.getSelectionCells():[y.cell],d=this.updateShapes(e.model.isEdge(y.cell)?i[0]:i[s],h);e.setSelectionCells(d)}else if(null!=i&&null!=R&&null!=g&&R!=T){var p=e.model.isEdge(g.cell)||null==o?s:o;e.setSelectionCells(this.dropAndConnect(g.cell,i,I,p,l))}else t.apply(this,arguments);null!=this.editorUi.hoverIcons&&this.editorUi.hoverIcons.update(e.view.getState(e.getSelectionCell()))})),l,0,0,a.autoscroll,!0,!0);a.addListener(mxEvent.ESCAPE,(function(e,t){c.isActive()&&c.reset()}));var m=c.mouseDown;function u(e,t){var l=null;return mxClient.IS_IE&&!mxClient.IS_SVG?(mxClient.IS_IE6&&"CSS1Compat"!=document.compatMode?((l=document.createElement(mxClient.VML_PREFIX+":image")).setAttribute("src",e.src),l.style.borderStyle="none"):((l=document.createElement("div")).style.backgroundImage="url("+e.src+")",l.style.backgroundPosition="center",l.style.backgroundRepeat="no-repeat"),l.style.width=e.width+4+"px",l.style.height=e.height+4+"px",l.style.display=mxClient.IS_QUIRKS?"inline":"inline-block"):((l=mxUtils.createImage(e.src)).style.width=e.width+"px",l.style.height=e.height+"px"),null!=t&&l.setAttribute("title",t),mxUtils.setOpacity(l,e==this.refreshTarget?30:20),l.style.position="absolute",l.style.cursor="crosshair",l}c.mouseDown=function(e){mxEvent.isPopupTrigger(e)||mxEvent.isMultiTouchEvent(e)||(a.stopEditing(),m.apply(this,arguments))};var g=null,x=null,y=null,w=!1,b=u(this.triangleUp,mxResources.get("connect")),E=u(this.triangleRight,mxResources.get("connect")),f=u(this.triangleDown,mxResources.get("connect")),v=u(this.triangleLeft,mxResources.get("connect")),T=u(this.refreshTarget,mxResources.get("replace")),S=null,C=u(this.roundDrop),A=u(this.roundDrop),I=mxConstants.DIRECTION_NORTH,R=null;function V(e,t,l,i){return null!=i.parentNode&&(mxUtils.contains(l,e,t)?(mxUtils.setOpacity(i,100),R=i):mxUtils.setOpacity(i,i==T?30:20)),l}var D=c.createPreviewElement;c.createPreviewElement=function(e){var t=D.apply(this,arguments);return mxClient.IS_SVG&&(t.style.pointerEvents="none"),this.previewElementWidth=t.style.width,this.previewElementHeight=t.style.height,t};var P=c.dragEnter;c.dragEnter=function(e,t){null!=n.hoverIcons&&n.hoverIcons.setDisplay("none"),P.apply(this,arguments)};var L=c.dragExit;c.dragExit=function(e,t){null!=n.hoverIcons&&n.hoverIcons.setDisplay(""),L.apply(this,arguments)},c.dragOver=function(e,t){if(mxDragSource.prototype.dragOver.apply(this,arguments),null!=this.currentGuide&&null!=R&&this.currentGuide.hide(),null!=this.previewElement){var l=e.view;if(null!=y&&R==T)this.previewElement.style.display=e.model.isEdge(y.cell)?"none":"",this.previewElement.style.left=y.x+"px",this.previewElement.style.top=y.y+"px",this.previewElement.style.width=y.width+"px",this.previewElement.style.height=y.height+"px";else if(null!=g&&null!=R){null!=c.currentHighlight&&null!=c.currentHighlight.state&&c.currentHighlight.hide();var n=e.model.isEdge(g.cell)||null==o?s:o,a=h.getDropAndConnectGeometry(g.cell,i[n],I,i),d=e.model.isEdge(g.cell)?null:e.getCellGeometry(g.cell),p=e.getCellGeometry(i[n]),m=e.model.getParent(g.cell),u=l.translate.x*l.scale,x=l.translate.y*l.scale;if(null!=d&&!d.relative&&e.model.isVertex(m)&&m!=l.currentRoot){var w=l.getState(m);u=w.x,x=w.y}var b=p.x,E=p.y;e.model.isEdge(i[n])&&(b=0,E=0),this.previewElement.style.left=(a.x-b)*l.scale+u+"px",this.previewElement.style.top=(a.y-E)*l.scale+x+"px",1==i.length&&(this.previewElement.style.width=a.width*l.scale+"px",this.previewElement.style.height=a.height*l.scale+"px"),this.previewElement.style.display=""}else null!=c.currentHighlight.state&&e.model.isEdge(c.currentHighlight.state.cell)?(this.previewElement.style.left=Math.round(parseInt(this.previewElement.style.left)-r.width*l.scale/2)+"px",this.previewElement.style.top=Math.round(parseInt(this.previewElement.style.top)-r.height*l.scale/2)+"px"):(this.previewElement.style.width=this.previewElementWidth,this.previewElement.style.height=this.previewElementHeight,this.previewElement.style.display="")}};var O=(new Date).getTime(),N=0,M=null,U=this.editorUi.editor.graph.getCellStyle(i[0]);return c.getDropTarget=mxUtils.bind(this,(function(e,t,l,r){var n=mxEvent.isAltDown(r)||null==i?null:e.getCellAt(t,l,null,null,null,(function(t,l,i){return e.isContainer(t.cell)}));if(null!=n&&!this.graph.isCellConnectable(n)&&!this.graph.model.isEdge(n)){var a=this.graph.getModel().getParent(n);this.graph.getModel().isVertex(a)&&this.graph.isCellConnectable(a)&&(n=a)}e.isCellLocked(n)&&(n=null);var o=e.view.getState(n);R=null;var h=null;if(M!=o?(O=(new Date).getTime(),N=0,M=o,null!=this.updateThread&&window.clearTimeout(this.updateThread),null!=o&&(this.updateThread=window.setTimeout((function(){null==R&&(M=o,c.getDropTarget(e,t,l,r))}),this.dropTargetDelay+10))):N=(new Date).getTime()-O,p&&N<2500&&null!=o&&!mxEvent.isShiftDown(r)&&(mxUtils.getValue(o.style,mxConstants.STYLE_SHAPE)!=mxUtils.getValue(U,mxConstants.STYLE_SHAPE)&&(mxUtils.getValue(o.style,mxConstants.STYLE_STROKECOLOR,mxConstants.NONE)!=mxConstants.NONE||mxUtils.getValue(o.style,mxConstants.STYLE_FILLCOLOR,mxConstants.NONE)!=mxConstants.NONE||mxUtils.getValue(o.style,mxConstants.STYLE_GRADIENTCOLOR,mxConstants.NONE)!=mxConstants.NONE)||"image"==mxUtils.getValue(U,mxConstants.STYLE_SHAPE)||N>1500||e.model.isEdge(o.cell))&&N>this.dropTargetDelay&&!this.isDropStyleTargetIgnored(o)&&(e.model.isVertex(o.cell)&&null!=s||e.model.isEdge(o.cell)&&e.model.isEdge(i[0]))){y=o;var d=e.model.isEdge(o.cell)?e.view.getPoint(o):new mxPoint(o.getCenterX(),o.getCenterY());d=new mxRectangle(d.x-this.refreshTarget.width/2,d.y-this.refreshTarget.height/2,this.refreshTarget.width,this.refreshTarget.height),T.style.left=Math.floor(d.x)+"px",T.style.top=Math.floor(d.y)+"px",null==S&&(e.container.appendChild(T),S=T.parentNode),V(t,l,d,T)}else if(null==y||!mxUtils.contains(y,t,l)||N>1500&&!mxEvent.isShiftDown(r))y=null,null!=S&&(T.parentNode.removeChild(T),S=null);else if(null!=y&&null!=S){d=e.model.isEdge(y.cell)?e.view.getPoint(y):new mxPoint(y.getCenterX(),y.getCenterY());d=new mxRectangle(d.x-this.refreshTarget.width/2,d.y-this.refreshTarget.height/2,this.refreshTarget.width,this.refreshTarget.height),V(t,l,d,T)}if(w&&null!=g&&!mxEvent.isAltDown(r)&&null==R){if(h=mxRectangle.fromRectangle(g),e.model.isEdge(g.cell)){var m=g.absolutePoints;if(null!=C.parentNode){var u=m[0];h.add(V(t,l,new mxRectangle(u.x-this.roundDrop.width/2,u.y-this.roundDrop.height/2,this.roundDrop.width,this.roundDrop.height),C))}if(null!=A.parentNode){var D=m[m.length-1];h.add(V(t,l,new mxRectangle(D.x-this.roundDrop.width/2,D.y-this.roundDrop.height/2,this.roundDrop.width,this.roundDrop.height),A))}}else{var P=mxRectangle.fromRectangle(g);null!=g.shape&&null!=g.shape.boundingBox&&(P=mxRectangle.fromRectangle(g.shape.boundingBox)),P.grow(this.graph.tolerance),P.grow(HoverIcons.prototype.arrowSpacing),null!=(z=this.graph.selectionCellsHandler.getHandler(g.cell))&&(P.x-=z.horizontalOffset/2,P.y-=z.verticalOffset/2,P.width+=z.horizontalOffset,P.height+=z.verticalOffset,null!=z.rotationShape&&null!=z.rotationShape.node&&"hidden"!=z.rotationShape.node.style.visibility&&"none"!=z.rotationShape.node.style.display&&null!=z.rotationShape.boundingBox&&P.add(z.rotationShape.boundingBox)),h.add(V(t,l,new mxRectangle(g.getCenterX()-this.triangleUp.width/2,P.y-this.triangleUp.height,this.triangleUp.width,this.triangleUp.height),b)),h.add(V(t,l,new mxRectangle(P.x+P.width,g.getCenterY()-this.triangleRight.height/2,this.triangleRight.width,this.triangleRight.height),E)),h.add(V(t,l,new mxRectangle(g.getCenterX()-this.triangleDown.width/2,P.y+P.height,this.triangleDown.width,this.triangleDown.height),f)),h.add(V(t,l,new mxRectangle(P.x-this.triangleLeft.width,g.getCenterY()-this.triangleLeft.height/2,this.triangleLeft.width,this.triangleLeft.height),v))}null!=h&&h.grow(10)}I=mxConstants.DIRECTION_NORTH,R==E?I=mxConstants.DIRECTION_EAST:R==f||R==A?I=mxConstants.DIRECTION_SOUTH:R==v&&(I=mxConstants.DIRECTION_WEST),null!=y&&R==T&&(o=y);var L=(null==s||e.isCellConnectable(i[s]))&&(e.model.isEdge(n)&&null!=s||e.model.isVertex(n)&&e.isCellConnectable(n));if(null!=g&&N>=5e3||g!=o&&(null==h||!mxUtils.contains(h,t,l)||N>500&&null==R&&L))if(w=!1,null!=(g=N<5e3&&N>this.dropTargetDelay||e.model.isEdge(n)?o:null)&&L){for(var k=[C,A,b,E,f,v],H=0;H<k.length;H++)null!=k[H].parentNode&&k[H].parentNode.removeChild(k[H]);if(e.model.isEdge(n)){if(null!=(m=o.absolutePoints)){u=m[0],D=m[m.length-1];var G=e.tolerance;new mxRectangle(t-G,l-G,2*G,2*G);C.style.left=Math.floor(u.x-this.roundDrop.width/2)+"px",C.style.top=Math.floor(u.y-this.roundDrop.height/2)+"px",A.style.left=Math.floor(D.x-this.roundDrop.width/2)+"px",A.style.top=Math.floor(D.y-this.roundDrop.height/2)+"px",null==e.model.getTerminal(n,!0)&&e.container.appendChild(C),null==e.model.getTerminal(n,!1)&&e.container.appendChild(A)}}else{var z;P=mxRectangle.fromRectangle(o);null!=o.shape&&null!=o.shape.boundingBox&&(P=mxRectangle.fromRectangle(o.shape.boundingBox)),P.grow(this.graph.tolerance),P.grow(HoverIcons.prototype.arrowSpacing),null!=(z=this.graph.selectionCellsHandler.getHandler(o.cell))&&(P.x-=z.horizontalOffset/2,P.y-=z.verticalOffset/2,P.width+=z.horizontalOffset,P.height+=z.verticalOffset,null!=z.rotationShape&&null!=z.rotationShape.node&&"hidden"!=z.rotationShape.node.style.visibility&&"none"!=z.rotationShape.node.style.display&&null!=z.rotationShape.boundingBox&&P.add(z.rotationShape.boundingBox)),b.style.left=Math.floor(o.getCenterX()-this.triangleUp.width/2)+"px",b.style.top=Math.floor(P.y-this.triangleUp.height)+"px",E.style.left=Math.floor(P.x+P.width)+"px",E.style.top=Math.floor(o.getCenterY()-this.triangleRight.height/2)+"px",f.style.left=b.style.left,f.style.top=Math.floor(P.y+P.height)+"px",v.style.left=Math.floor(P.x-this.triangleLeft.width)+"px",v.style.top=E.style.top,"eastwest"!=o.style.portConstraint&&(e.container.appendChild(b),e.container.appendChild(f)),e.container.appendChild(E),e.container.appendChild(v)}null!=o&&null!=(x=e.selectionCellsHandler.getHandler(o.cell))&&null!=x.setHandlesVisible&&x.setHandlesVisible(!1),w=!0}else for(k=[C,A,b,E,f,v],H=0;H<k.length;H++)null!=k[H].parentNode&&k[H].parentNode.removeChild(k[H]);w||null==x||x.setHandlesVisible(!0);var B=mxEvent.isAltDown(r)&&!mxEvent.isShiftDown(r)||null!=y&&R==T?null:mxDragSource.prototype.getDropTarget.apply(this,arguments),F=e.getModel();if(null!=B&&(null!=R||!e.isSplitTarget(B,i,r))){for(;null!=B&&!e.isValidDropTarget(B,i,r)&&F.isVertex(F.getParent(B));)B=F.getParent(B);null!=B&&(e.view.currentRoot==B||!e.isValidRoot(B)&&0==e.getModel().getChildCount(B)||e.isCellLocked(B)||F.isEdge(B)||!e.isValidDropTarget(B,i,r))&&(B=null)}return B})),c.stopDrag=function(){mxDragSource.prototype.stopDrag.apply(this,arguments);for(var e=[C,A,T,b,E,f,v],t=0;t<e.length;t++)null!=e[t].parentNode&&e[t].parentNode.removeChild(e[t]);null!=g&&null!=x&&x.reset(),x=null,g=null,y=null,S=null,R=null},c},Sidebar.prototype.itemClicked=function(e,t,l,i){var r=this.editorUi.editor.graph;if(r.container.focus(),mxEvent.isAltDown(l)&&1==r.getSelectionCount()&&r.model.isVertex(r.getSelectionCell())){for(var n=null,a=0;a<e.length&&null==n;a++)r.model.isVertex(e[a])&&(n=a);null!=n&&(r.setSelectionCells(this.dropAndConnect(r.getSelectionCell(),e,mxEvent.isMetaDown(l)||mxEvent.isControlDown(l)?mxEvent.isShiftDown(l)?mxConstants.DIRECTION_WEST:mxConstants.DIRECTION_NORTH:mxEvent.isShiftDown(l)?mxConstants.DIRECTION_EAST:mxConstants.DIRECTION_SOUTH,n,l)),r.scrollCellToVisible(r.getSelectionCell()))}else if(mxEvent.isShiftDown(l)&&!r.isSelectionEmpty())this.updateShapes(e[0],r.getSelectionCells()),r.scrollCellToVisible(r.getSelectionCell());else{var o=mxEvent.isAltDown(l)?r.getFreeInsertPoint():r.getCenterInsertPoint(r.getBoundingBoxFromGeometry(e,!0));t.drop(r,l,null,o.x,o.y,!0)}},Sidebar.prototype.addClickHandler=function(e,t,l){var i=this.editorUi.editor.graph,r=t.mouseDown,n=t.mouseMove,a=t.mouseUp,o=i.tolerance,s=null,h=this;t.mouseDown=function(t){r.apply(this,arguments),s=new mxPoint(mxEvent.getClientX(t),mxEvent.getClientY(t)),null!=this.dragElement&&(this.dragElement.style.display="none",mxUtils.setOpacity(e,50))},t.mouseMove=function(t){null!=this.dragElement&&"none"==this.dragElement.style.display&&null!=s&&(Math.abs(s.x-mxEvent.getClientX(t))>o||Math.abs(s.y-mxEvent.getClientY(t))>o)&&(this.dragElement.style.display="",mxUtils.setOpacity(e,100)),n.apply(this,arguments)},t.mouseUp=function(i){try{mxEvent.isPopupTrigger(i)||null!=this.currentGraph||null==this.dragElement||"none"!=this.dragElement.style.display||h.itemClicked(l,t,i,e),a.apply(t,arguments),mxUtils.setOpacity(e,100),s=null,h.currentElt=e}catch(e){t.reset(),h.editorUi.handleError(e)}}},Sidebar.prototype.createVertexTemplateEntry=function(e,t,l,i,r,n,a,o){return o=null!=o&&o.length>0?o:null!=r?r.toLowerCase():"",this.addEntry(o,mxUtils.bind(this,(function(){return this.createVertexTemplate(e,t,l,i,r,n,a)})))},Sidebar.prototype.createVertexTemplate=function(e,t,l,i,r,n,a,o){var s=[new mxCell(null!=i?i:"",new mxGeometry(0,0,t,l),e)];return s[0].vertex=!0,this.createVertexTemplateFromCells(s,t,l,r,n,a,o)},Sidebar.prototype.createVertexTemplateFromData=function(e,t,l,i,r,n,a){var o=mxUtils.parseXml(Graph.decompress(e)),s=new mxCodec(o),h=new mxGraphModel;s.decode(o.documentElement,h);var d=this.graph.cloneCells(h.root.getChildAt(0).children);return this.createVertexTemplateFromCells(d,t,l,i,r,n,a)},Sidebar.prototype.createVertexTemplateFromCells=function(e,t,l,i,r,n,a){return this.createItem(e,i,r,n,t,l,a)},Sidebar.prototype.createEdgeTemplateEntry=function(e,t,l,i,r,n,a,o){return a=null!=a&&a.length>0?a:r.toLowerCase(),this.addEntry(a,mxUtils.bind(this,(function(){return this.createEdgeTemplate(e,t,l,i,r,n,o)})))},Sidebar.prototype.createEdgeTemplate=function(e,t,l,i,r,n,a){var o=new mxCell(null!=i?i:"",new mxGeometry(0,0,t,l),e);return o.geometry.setTerminalPoint(new mxPoint(0,l),!0),o.geometry.setTerminalPoint(new mxPoint(t,0),!1),o.geometry.relative=!0,o.edge=!0,this.createEdgeTemplateFromCells([o],t,l,r,n,a)},Sidebar.prototype.createEdgeTemplateFromCells=function(e,t,l,i,r,n){return this.createItem(e,i,r,!0,t,l,n)},Sidebar.prototype.addPaletteFunctions=function(e,t,l,i){this.addPalette(e,t,l,mxUtils.bind(this,(function(e){for(var t=0;t<i.length;t++)e.appendChild(i[t](e))})))},Sidebar.prototype.addPalette=function(e,t,l,i){var r=this.createTitle(t);this.container.appendChild(r);var n=document.createElement("div");n.className="geSidebar",mxClient.IS_POINTER&&(n.style.touchAction="none"),l?(i(n),i=null):n.style.display="none",this.addFoldingHandler(r,n,i);var a=document.createElement("div");return a.appendChild(n),this.container.appendChild(a),null!=e&&(this.palettes[e]=[r,a]),n},Sidebar.prototype.addFoldingHandler=function(e,t,l){var i=!1;(!mxClient.IS_IE||document.documentMode>=8)&&(e.style.backgroundImage="none"==t.style.display?"url('"+this.collapsedImage+"')":"url('"+this.expandedImage+"')"),e.style.backgroundRepeat="no-repeat",e.style.backgroundPosition="0% 50%",mxEvent.addListener(e,"click",mxUtils.bind(this,(function(r){if("none"==t.style.display){if(i)t.style.display="block";else if(i=!0,null!=l){e.style.cursor="wait";var n=e.innerHTML;e.innerHTML=mxResources.get("loading")+"...",window.setTimeout((function(){t.style.display="block",e.style.cursor="",e.innerHTML=n;var i=mxClient.NO_FO;mxClient.NO_FO=Editor.prototype.originalNoForeignObject,l(t,e),mxClient.NO_FO=i}),mxClient.IS_FF?20:0)}else t.style.display="block";e.style.backgroundImage="url('"+this.expandedImage+"')"}else e.style.backgroundImage="url('"+this.collapsedImage+"')",t.style.display="none";mxEvent.consume(r)}))),mxClient.IS_QUIRKS||mxEvent.addListener(e,mxClient.IS_POINTER?"pointerdown":"mousedown",mxUtils.bind(this,(function(e){e.preventDefault()})))},Sidebar.prototype.removePalette=function(e){var t=this.palettes[e];if(null!=t){this.palettes[e]=null;for(var l=0;l<t.length;l++)this.container.removeChild(t[l]);return!0}return!1},Sidebar.prototype.getTagsForStencil=function(e,t,l){for(var i=e.split("."),r=1;r<i.length;r++)i[r]=i[r].replace(/_/g," ");return i.push(t.replace(/_/g," ")),null!=l&&i.push(l),i.slice(1,i.length)},Sidebar.prototype.addStencilPalette=function(e,t,l,i,r,n,a,o,s,h){if(a=null!=a?a:1,this.addStencilsToIndex){var d=[];if(null!=s)for(var p=0;p<s.length;p++)d.push(s[p]);mxStencilRegistry.loadStencilSet(l,mxUtils.bind(this,(function(e,t,l,n,s){if(null==r||mxUtils.indexOf(r,t)<0){var h=this.getTagsForStencil(e,t),p=null!=o?o[t]:null;null!=p&&h.push(p),d.push(this.createVertexTemplateEntry("shape="+e+t.toLowerCase()+i,Math.round(n*a),Math.round(s*a),"",t.replace(/_/g," "),null,null,this.filterTags(h.join(" "))))}})),!0,!0),this.addPaletteFunctions(e,t,!1,d)}else this.addPalette(e,t,!1,mxUtils.bind(this,(function(e){if(null==i&&(i=""),null!=n&&n.call(this,e),null!=s)for(var t=0;t<s.length;t++)s[t](e);mxStencilRegistry.loadStencilSet(l,mxUtils.bind(this,(function(t,l,n,o,s){(null==r||mxUtils.indexOf(r,l)<0)&&e.appendChild(this.createVertexTemplate("shape="+t+l.toLowerCase()+i,Math.round(o*a),Math.round(s*a),"",l.replace(/_/g," "),!0))})),!0)})))},Sidebar.prototype.destroy=function(){null!=this.graph&&(null!=this.graph.container&&null!=this.graph.container.parentNode&&this.graph.container.parentNode.removeChild(this.graph.container),this.graph.destroy(),this.graph=null),null!=this.pointerUpHandler&&(mxEvent.removeListener(document,mxClient.IS_POINTER?"pointerup":"mouseup",this.pointerUpHandler),this.pointerUpHandler=null),null!=this.pointerDownHandler&&(mxEvent.removeListener(document,mxClient.IS_POINTER?"pointerdown":"mousedown",this.pointerDownHandler),this.pointerDownHandler=null),null!=this.pointerMoveHandler&&(mxEvent.removeListener(document,mxClient.IS_POINTER?"pointermove":"mousemove",this.pointerMoveHandler),this.pointerMoveHandler=null),null!=this.pointerOutHandler&&(mxEvent.removeListener(document,mxClient.IS_POINTER?"pointerout":"mouseout",this.pointerOutHandler),this.pointerOutHandler=null)};
